!function(e,t,s){"use strict";function r(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function n(){var t;Q=!1,q=e.devicePixelRatio,V={},X={},t=(q||1)*M.xQuant,M.uT||(M.maxX=Math.max(1.3,M.maxX),t=Math.min(t,M.maxX),b.DPR=t),j.width=Math.max(e.innerWidth||0,L.clientWidth),j.height=Math.max(e.innerHeight||0,L.clientHeight),j.vw=j.width/100,j.vh=j.height/100,j.em=b.getEmValue(),j.rem=j.em,g=M.lazyFactor/2,g=g*t+g,v=.1*t,f=.5+.2*t,m=.5+.25*t,h=t+1.3,(p=j.width>j.height)||(g*=.9),W&&(g*=.9)}function i(e,t,s){var r=t*Math.pow(e,2);return p||(r/=1.3),e+=r,e>s}function a(e){if(!e.getBoundingClientRect)return!0;var t,s,r,n,i=e.getBoundingClientRect();return!!((t=i.bottom)>=-9&&(n=i.top)<=j.height+9&&(s=i.right)>=-9&&(r=i.left)<=j.height+9&&(t||s||r||n))}function c(e){var t,s=b.getSet(e),r=!1;"pending"!=s&&(r=!0,s&&(t=b.setRes(s),r=b.applySetCandidate(t,e))),e[b.ns].evaled=r}function l(e,t){return e.res-t.res}function o(e,t,s){var r;return!s&&t&&(s=e[b.ns].sets,s=s&&s[s.length-1]),r=u(t,s),r&&(t=b.makeUrl(t),e[b.ns].curSrc=t,e[b.ns].curCan=r,r.res||st(r,r.set.sizes)),r}function u(e,t){var s,r,n;if(e&&t)for(n=b.parseSet(t),e=b.makeUrl(e),s=0;s<n.length;s++)if(e==b.makeUrl(n[s].url)){r=n[s];break}return r}function d(e,t){var s,r,n,i,a=e.getElementsByTagName("source");for(s=0,r=a.length;r>s;s++)n=a[s],n[b.ns]=!0,i=n.getAttribute("srcset"),i&&t.push({srcset:i,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}t.createElement("picture");var f,m,p,g,h,v,z,y,E,b={},C=function(){},S=t.createElement("img"),x=S.getAttribute,A=S.setAttribute,w=S.removeAttribute,L=t.documentElement,T={},M={xQuant:1,lazyFactor:.4,maxX:2},R="data-risrc",N=R+"set",$="webkitBackfaceVisibility"in L.style,k=navigator.userAgent,I=/AppleWebKit/i.test(k),W=/rident/.test(k)||/ecko/.test(k)&&k.match(/rv\:(\d+)/)&&RegExp.$1>35,P=0,B="currentSrc",U=/\s+\+?\d+(e\d+)?w/,D=/(\([^)]+\))?\s*(.+)/,F=/^([\+eE\d\.]+)(w|x)$/,H=/\s*\d+h\s*/,O=e.respimgCFG,_=("https:"==location.protocol,"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)"),G="font-size:100%!important;",Q=!0,V={},X={},q=e.devicePixelRatio,j={px:1,"in":96},K=t.createElement("a"),J=!1,Y=function(e,t,s,r){e.addEventListener?e.addEventListener(t,s,r||!1):e.attachEvent&&e.attachEvent("on"+t,s)},Z=function(e,t,s,r){e.removeEventListener?e.removeEventListener(t,s,r||!1):e.detachEvent&&e.detachEvent("on"+t,s)},et=function(e){var t={};return function(s){return s in t||(t[s]=e(s)),t[s]}},tt=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s},s=et(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")});return function(t,r){var n;if(!(t in V))if(V[t]=!1,r&&(n=t.match(e)))V[t]=n[1]*j[n[2]];else try{V[t]=new Function("e",s(t))(j)}catch(i){}return V[t]}}(),st=function(e,t){return e.w?(e.cWidth=b.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.x,e},rt=function(e){var s,r,n,i=e||{};if(i.elements&&1==i.elements.nodeType&&("IMG"==i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),s=i.elements||b.qsa(i.context||t,i.reevaluate||i.reparse?b.sel:b.selShort),n=s.length){for(b.setupRun(i),J=!0,r=0;n>r;r++)P++,6>P&&!s[r].complete&&P++,b.fillImg(s[r],i);b.teardownRun(i),P++}},nt=function(){var e=function(){Z(this,"load",e),Z(this,"error",e),b.fillImgs({elements:[this]})};return function(t){Z(t,"load",e),Z(t,"error",e),Y(t,"error",e),Y(t,"load",e)}}(),it=et(function(e){var t=[1,"x"],s=r(e||"");return s&&(s=s.replace(H,""),t=s.match(F)?[1*RegExp.$1,RegExp.$2]:!1),t});B in S||(B="src"),T["image/jpeg"]=!0,T["image/gif"]=!0,T["image/png"]=!0,T["image/svg+xml"]=t.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),b.ns=("ri"+(new Date).getTime()).substr(0,9),b.supSrcset="srcset"in S,b.supSizes="sizes"in S,b.selShort="picture>img,img[srcset]",b.sel=b.selShort,b.cfg=M,b.supSrcset&&(b.sel+=",img["+N+"]"),b.DPR=q||1,b.u=j,b.types=T,y=b.supSrcset&&!b.supSizes,b.setSize=C,b.makeUrl=et(function(e){return K.href=e,K.href}),b.qsa=function(e,t){return e.querySelectorAll(t)},b.matchesMedia=function(){return b.matchesMedia=e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?function(e){return!e||matchMedia(e).matches}:b.mMQ,b.matchesMedia.apply(this,arguments)},b.mMQ=function(e){return e?tt(e):!0},b.calcLength=function(e){var t=tt(e,!0)||!1;return 0>t&&(t=!1),t},b.supportsType=function(e){return e?T[e]:!0},b.parseSize=et(function(e){var t=(e||"").match(D);return{media:t&&t[1],length:t&&t[2]}}),b.parseSet=function(e){if(!e.cands){var t,s,r,n,i,a,c=e.srcset;for(e.cands=[];c;)c=c.replace(/^\s+/g,""),t=c.search(/\s/g),r=null,-1!=t?(s=c.slice(0,t),n=s.charAt(s.length-1),","!=n&&s||(s=s.replace(/,+$/,""),r=""),c=c.slice(t+1),null==r&&(i=c.indexOf(","),-1!=i?(r=c.slice(0,i),c=c.slice(i+1)):(r=c,c=""))):(s=c,c=""),s&&(r=it(r))&&(a={url:s.replace(/^,+/,""),set:e},a[r[1]]=r[0],"x"==r[1]&&1==r[0]&&(e.has1x=!0),e.cands.push(a))}return e.cands},b.getEmValue=function(){var e;if(!z&&(e=t.body)){var s=t.createElement("div"),r=L.style.cssText,n=e.style.cssText;s.style.cssText=_,L.style.cssText=G,e.style.cssText=G,e.appendChild(s),z=s.offsetWidth,e.removeChild(s),z=parseFloat(z,10),L.style.cssText=r,e.style.cssText=n}return z||16},b.calcListLength=function(e){if(!(e in X)||M.uT){var t,s,n,i,a,c,l=r(e).split(/\s*,\s*/),o=!1;for(a=0,c=l.length;c>a&&(t=l[a],s=b.parseSize(t),n=s.length,i=s.media,!n||!b.matchesMedia(i)||(o=b.calcLength(n))===!1);a++);X[e]=o?o:j.width}return X[e]},b.setRes=function(e){var t;if(e){t=b.parseSet(e);for(var s=0,r=t.length;r>s;s++)st(t[s],e.sizes)}return t},b.setRes.res=st,b.applySetCandidate=function(e,t){if(e.length){var s,r,n,c,u,d,p,z,y,E,C,S,A,w=t[b.ns],L=!0,T=g,M=v;if(z=w.curSrc||t[B],y=w.curCan||o(t,z,e[0].set),r=b.DPR,A=y&&y.res,!p&&z&&(S=W&&!t.complete&&y&&A>r,S||y&&!(h>A)||(y&&r>A&&A>f&&(m>A&&(T*=.87,M+=.04*r),y.res+=T*Math.pow(A-M,2)),E=!w.pic||y&&y.set==e[0].set,y&&E&&y.res>=r?p=y:I||t.complete||!x.call(t,"src")||t.lazyload||W&&!(4>P)||!E&&a(t)||(p=y,C=z,L="L",nt(t)))),!p)for(A&&(y.res=y.res-(y.res-A)/2),e.sort(l),d=e.length,p=e[d-1],n=0;d>n;n++)if(s=e[n],s.res>=r){c=n-1,p=e[c]&&(u=s.res-r)&&(S||z!=b.makeUrl(s.url))&&i(e[c].res,u,r)?e[c]:s;break}return A&&(y.res=A),p&&(C=b.makeUrl(p.url),w.curSrc=C,w.curCan=p,C!=z&&b.setSrc(t,p),b.setSize(t)),L}},b.setSrc=function(e,t){var s;e.src=t.url,$&&(s=e.style.zoom,e.style.zoom="0.999",e.style.zoom=s)},b.getSet=function(e){var t,s,r,n=!1,i=e[b.ns].sets;for(t=0;t<i.length&&!n;t++)if(s=i[t],s.srcset&&b.matchesMedia(s.media)&&(r=b.supportsType(s.type))){"pending"==r&&(s=r),n=s;break}return n},b.parseSets=function(e,t,r){var n,i,a,c,l="PICTURE"==t.nodeName.toUpperCase(),o=e[b.ns];(o.src===s||r.src)&&(o.src=x.call(e,"src"),o.src?A.call(e,R,o.src):w.call(e,R)),(o.srcset===s||!b.supSrcset||e.srcset||r.srcset)&&(n=x.call(e,"srcset"),o.srcset=n,c=!0),o.sets=[],l&&(o.pic=!0,d(t,o.sets)),o.srcset?(i={srcset:o.srcset,sizes:x.call(e,"sizes")},o.sets.push(i),a=(y||o.src)&&U.test(o.srcset||""),a||!o.src||u(o.src,i)||i.has1x||(i.srcset+=", "+o.src,i.cands.push({url:o.src,x:1,set:i}))):o.src&&o.sets.push({srcset:o.src,sizes:null}),o.curCan=null,o.curSrc=s,o.supported=!(l||i&&!b.supSrcset||a),c&&b.supSrcset&&!o.supported&&(n?(A.call(e,N,n),e.srcset=""):w.call(e,N)),o.supported&&!o.srcset&&(!o.src&&e.src||e.src!=b.makeUrl(o.src))&&(null==o.src?e.removeAttribute("src"):e.src=o.src),o.parsed=!0},b.fillImg=function(e,t){var s,r,n=t.reparse||t.reevaluate;if(e[b.ns]||(e[b.ns]={}),r=e[b.ns],"L"==r.evaled&&e.complete&&(r.evaled=!1),n||!r.evaled){if(!r.parsed||t.reparse){if(s=e.parentNode,!s)return;b.parseSets(e,s,t)}r.supported?r.evaled=!0:c(e)}},b.setupRun=function(e){(!J||e.reevaluate||Q)&&(n(),e.elements||e.context||clearTimeout(E))},e.HTMLPictureElement?(rt=C,b.fillImg=C):!function(){var s,r=e.attachEvent?/d$|^c/:/d$|^c|^i/,n=function(){var e=t.readyState||"";c=setTimeout(n,"loading"==e?200:999),t.body&&(s=s||r.test(e),b.fillImgs(),s&&(P+=6,clearTimeout(c)))},i=function(){b.fillImgs({reevaluate:!0})},a=function(){clearTimeout(E),Q=!0,E=setTimeout(i,99)},c=setTimeout(n,t.body?9:99);Y(e,"resize",a),Y(t,"readystatechange",n)}(),b.respimage=rt,b.fillImgs=rt,b.teardownRun=C,rt._=b,e.respimage=rt,e.respimgCFG={ri:b,push:function(e){var t=e.shift();"function"==typeof b[t]?b[t].apply(b,e):(M[t]=e[0],J&&b.fillImgs({reevaluate:!0}))}};for(;O&&O.length;)e.respimgCFG.push(O.shift())}(window,document),function(e,t){e.lazySizes=t(e,e.document),"function"==typeof define&&define.amd&&define(e.lazySizes)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var s,r=t.documentElement,n=/^picture$/i,i=["load","error","lazyincluded","_lazyloaded"],a=function(e,t){var s=new RegExp("(\\s|^)"+t+"(\\s|$)");return e.className.match(s)&&s},c=function(e,t){a(e,t)||(e.className+=" "+t)},l=function(e,t){var s;(s=a(e,t))&&(e.className=e.className.replace(s," "))},o=function(e,t,s){var r=s?"addEventListener":"removeEventListener";s&&o(e,t),i.forEach(function(s){e[r](s,t)})},u=function(e,s,r){var n=t.createEvent("Event");return n.initEvent(s,!0,!0),n.details=r||{},e.dispatchEvent(n),n},d=function(t,s){var r,n;e.HTMLPictureElement||(e.picturefill?picturefill({reevaluate:!0,reparse:!0,elements:[t]}):e.respimage?(s&&(n=s.srcset&&"srcset"||s.src&&"src")&&(r=t[respimage._.ns],r&&r[n]!=s[n]&&t.getAttribute(n)==s[n]&&(r[n]=void 0)),respimage({reparse:!0,elements:[t]})):s&&s.src&&(t.src=s.src))},f=function(e,t){return getComputedStyle(e,null)[t]},m=function(e,r){for(var n=e.offsetWidth;n<s.minSize&&r&&r!=t.body&&!e._lazysizesWidth;)n=r.offsetWidth,r=r.parentNode;return n},p=function(e){var s,r,n=function(){s&&(s=!1,e())},i=function(){clearInterval(r),t.hidden||(n(),r=setInterval(n,66))};return t.addEventListener("visibilitychange",i),i(),function(e){s=!0,e===!0&&n()}},g=function(){var i,m,g,v,z,y,E,b,C,S,x,A,w=navigator.userAgent,L=e.HTMLPictureElement&&w.match(/hrome\/(\d+)/)&&40==RegExp.$1,T=/webkit/i.test(w),M=/^img$/i,R=/^iframe$/i,N=-2,$=N,k=N,I=N,W=!0,P=0,B=0,U=0,D=function(e){B--,e&&e.target&&o(e.target,D),(!e||0>B||!e.target)&&(B=0)},F=function(e,s){var n,i=e,a="hidden"!=f(e,"visibility");for(C-=s,A+=s,S-=s,x+=s;a&&(i=i.offsetParent)&&i!=r&&i!=t.body;)a=v&&4>B||(f(i,"opacity")||1)>0,a&&"visible"!=f(i,"overflow")&&(n=i.getBoundingClientRect(),a=x>n.left-1&&S<n.right+1&&A>n.top-1&&C<n.bottom+1);return a},H=function(){var e,t,r,n,a,c,l,o=i.length,u=Date.now(),d=U;if(W||V(),o){for(;o>d&&i[d];d++,U++)if((c=i[d].getAttribute("data-expand"))&&(n=1*c)||(n=I),!(B>6&&(!c||"src"in i[d])))if(B>3&&n>N&&(n=N),l!==n&&(E=innerWidth+n,b=innerHeight+n,a=-1*n,l=n),e=i[d].getBoundingClientRect(),(A=e.bottom)>=a&&(C=e.top)<=b&&(x=e.right)>=a&&(S=e.left)<=E&&(A||x||S||C)&&(v&&I==$&&3>B&&4>P&&!c||F(i[d],n)))U--,u+=2,Q(i[d]),r=!0;else{if(!y&&Date.now()-u>3)return U++,y=!0,void O();!r&&v&&!t&&3>B&&4>P&&(m[0]||s.preloadAfterLoad)&&(m[0]||!c&&(A||x||S||C||"auto"!=i[d].getAttribute(s.sizesAttr)))&&(t=m[0]||i[d])}U=0,y=!1,P++,k>I&&2>B&&P>4?(I=k,P=0,O()):I!=$&&(I=$),t&&!r&&Q(t)}},O=p(H),_=function(e){c(e.target,s.loadedClass),l(e.target,s.loadingClass),o(e.target,_)},G=function(e,t){try{e.contentWindow.location.replace(t)}catch(s){e.setAttribute("src",t)}},Q=function(e,t){var r,i,f,m,p,g,y,E,b,C,S,x=e.currentSrc||e.src,A=M.test(e.nodeName),w=e.getAttribute(s.sizesAttr)||e.getAttribute("sizes"),N="auto"==w;if(!N&&(T||v)||!A||!x||e.complete||a(e,s.errorClass)){if(!(b=u(e,"lazybeforeunveil",{force:!!t})).defaultPrevented){if(w&&(N?h.updateElem(e,!0):e.setAttribute("sizes",w)),g=e.getAttribute(s.srcsetAttr),p=e.getAttribute(s.srcAttr),A&&(y=e.parentNode,E=n.test(y.nodeName||"")),C=b.details.firesLoad||"src"in e&&(g||p||E),C&&(B++,o(e,D,!0),clearTimeout(z),z=setTimeout(D,3e3)),E)for(r=y.getElementsByTagName("source"),i=0,f=r.length;f>i;i++)(S=s.customMedia[r[i].getAttribute("media")])&&r[i].setAttribute("media",S),m=r[i].getAttribute(s.srcsetAttr),m&&r[i].setAttribute("srcset",m);g?(e.setAttribute("srcset",g),L&&w&&e.removeAttribute("src")):p&&(R.test(e.nodeName)?G(e,p):e.setAttribute("src",p)),s.addClasses&&(c(e,s.loadingClass),o(e,_,!0))}setTimeout(function(){"auto"==w&&c(e,s.autosizesClass),(g||E)&&d(e,{srcset:g,src:p}),l(e,s.lazyClass),(!C||e.complete&&x==(e.currentSrc||e.src))&&(C&&D(b),s.addClasses&&_(b)),e=null})}},V=function(){g&&!W&&($=Math.max(Math.min(s.expand||s.threshold||120,300),9),k=4*$),W=!0},X=function(){g=!0,W=!1},q=function(){v=!0,X(),O(!0)},j=function(){i=t.getElementsByClassName(s.lazyClass),m=t.getElementsByClassName(s.lazyClass+" "+s.preloadClass),s.scroll&&addEventListener("scroll",O,!0),addEventListener("resize",function(){W=!1,O()}),e.MutationObserver?new MutationObserver(O).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r.addEventListener("DOMNodeInserted",O,!0),r.addEventListener("DOMAttrModified",O,!0)),addEventListener("hashchange",O,!0),["transitionstart","transitionend","load","focus","mouseover","animationend","click"].forEach(function(e){t.addEventListener(e,O,!0)}),(v=/d$|^c/.test(t.readyState))||(addEventListener("load",q),t.addEventListener("DOMContentLoaded",O)),setTimeout(X,666),O()};return{init:j,checkElems:O,unveil:Q}}(),h=function(){var e,r=function(e,t){var s,r,i,a,c,l=e.parentNode;if(l&&(s=m(e,l),c=u(e,"lazybeforesizes",{width:s,dataAttr:!!t}),!c.defaultPrevented&&(s=c.details.width,s&&s!==e._lazysizesWidth))){if(e._lazysizesWidth=s,s+="px",e.setAttribute("sizes",s),n.test(l.nodeName||""))for(r=l.getElementsByTagName("source"),i=0,a=r.length;a>i;i++)r[i].setAttribute("sizes",s);c.details.dataAttr||d(e,c.details)}},i=function(){var t,s=e.length;if(s)for(t=0;s>t;t++)r(e[t])},a=p(i),c=function(){e=t.getElementsByClassName(s.autosizesClass),addEventListener("resize",a)};return{init:c,checkElems:a,updateElem:r}}(),v=function(){v.i||(v.i=!0,h.init(),g.init())};return function(){var t,r={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",scroll:!0,autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",addClasses:!0,minSize:50,customMedia:{},init:!0};s=e.lazySizesConfig||{};for(t in r)t in s||(s[t]=r[t]);e.lazySizesConfig=s,r.init&&setTimeout(v)}(),{cfg:s,autoSizer:h,loader:g,init:v,updateAllSizes:h.updateElems,updateAllLazy:g.checkElems,unveilLazy:g.unveil,uS:h.updateElem,uP:d,aC:c,rC:l,hC:a,fire:u,gW:m}}});
//# sourceMappingURL=images.js.map