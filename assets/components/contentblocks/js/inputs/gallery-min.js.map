{"version":3,"file":"gallery-min.js","sources":["gallery.js"],"names":["$","ContentBlocks","fieldTypes","gallery","dom","data","input","imageCount","fileBrowser","source","properties","ContentBlocksConfig","directory","init","this","initUpload","find","addClass","thumb_size","on","click","proxy","chooseImage","isArray","images","each","idx","img","id","generated_id","addImage","sortable","connectWith","forceHelperSize","forcePlaceholderSize","placeholder","tolerance","cursor","update","fixColumnHeights","fireChange","start","event","ui","height","item","toBoolean","show_description","show_link_field","maxImages","max_images","numImages","length","alert","_","max","MODx","load","xtype","Ext","multiple","listeners","select","imageData","chooseImageCallback","allowedFileTypes","file_types","hideFiles","title","setSource","show","url","fullRelativeUrl","substr","config","base_url","imageId","attr","size","extension","ext","filename","description","link","values","holder","append","tmpl","inserted","fadeOut","remove","initializeLinkField","fileupload","connectorUrl","dataType","dropZone","progressInterval","paramName","pasteZone","add","e","files","name","split","pop","domId","window","FileReader","reader","onload","target","result","readAsDataURL","setTimeout","submit","done","success","record","object","val","removeClass","message","file","fail","formData","value","siteId","request","progress","parseInt","loaded","total","width","css","getData","$img","$link","linkType","getLinkFieldDataType","push","vcJquery"],"mappings":"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"}